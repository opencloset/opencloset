/*! opencloset - v0.0.1 - 2014-11-13 */$(function(){var a;return $("#query").focus(),$("#btn-tag-add").click(function(){return $("#add-form").trigger("submit")}),$("#add-form").submit(function(b){var c,d;return b.preventDefault(),d=$("#query").val(),$("#query").val("").focus(),d?(c=$("#tag-data").data("base-url"),$.ajax(""+c+".json",{type:"POST",data:{name:d},success:function(b){var c,d;return c=_.template($("#tpl-tag").html()),d=$(c(b)),$("#tag-table table tbody").append(d),a("#tag-id-"+b.id)},error:function(a){var b;switch(b=a.responseJSON.error.str,a.status){case 400:"duplicate tag.name"===b&&(b='"'+d+'" 태그가 이미 존재합니다.')}return OpenCloset.alert("danger",b)}})):void 0}),$(".btn-tag-remove").click(function(){var a,b;return(b=$(this).data("tag-id"))?(a=$("#tag-data").data("base-url"),$.ajax(""+a+"/"+b+".json",{type:"DELETE",success:function(a){return $(".tag-id-"+a.id).remove()},error:function(a){var b;switch(b=a.responseJSON.error.str,a.status){case 404:b='"'+query+'" 태그를 찾을 수 없습니다.'}return OpenCloset.alert("danger",b)}})):void 0}),a=function(a){var b,c;return c={mode:"inline",showbuttons:"true",emptytext:"비어있음",url:function(a){var b,c;return a.value?(b=$("#tag-data").data("base-url"),c={},c[a.name]=a.value,$.ajax(""+b+"/"+a.pk+".json",{type:"PUT",data:c})):OpenCloset.alert("danger","변경할 태그 이름을 입력하세요.")},error:function(a,b){var d;switch(d=a.responseJSON.error.str,a.status){case 404:d='"'+c.value+'" 태그를 찾을 수 없습니다.';break;case 400:"duplicate tag.name"===d&&(d='"'+b+'" 태그가 이미 존재합니다.')}return d}},b=$(a).attr("id"),c.type="text",$(a).editable(c)},$(".editable").each(function(b,c){return a(c)})});